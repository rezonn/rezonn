<meta charset="utf-8">
<title>Geolocation</title>
<script>

function newhtml(tag,attributes,ths) {
  var rv = document.createElement(tag);
  for (var x in attributes) {
    if (x!="style") rv[x] = attributes[x];
    else {
      for (var s in attributes[x]) {
        rv.style[s] = attributes[x][s];
      }
    }
  }
  if (ths) ths.appendChild(rv);
  return rv;
}

console.log = function(text) {newhtml("div",{innerText:text},document.body)}

var options = {enableHighAccuracy:true, timeout:5000, maximumAge:0};

function success(pos) {
  var crd = pos.coords;

  console.log('Ваше текущее метоположение:');
  console.log(`Широта: ${crd.latitude}`);
  console.log(`Долгота: ${crd.longitude}`);
  console.log(`Плюс-минус ${crd.accuracy} метров.`);
};

function error(err) {
  console.warn(`ERROR(${err.code}): ${err.message}`);
};



window.onload = function(){
  navigator.geolocation.getCurrentPosition(success, error, {enableHighAccuracy: true,timeout: 5000,maximumAge: 0});
}

setInterval(window.onload,2000);

</script>
<body></body>
